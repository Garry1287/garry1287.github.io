---
layout: post
title:  "vnc"
date:   2016-07-02 17:29:39 +0300
categories: linux
tags: linux
---

# vnc
Я установил x11vnc...man у этой утилиты знатный, несколько тысяч строк)) После небольшого его изучения я более менее разобрался с процедурой запуска и назначением утилиты.
Итак, x11vnc является фактически удаленным сервером (как и vncserver), но позволяет получать доступ к уже существующей X-сессии!
На машине, к которой необходимо подключиться:

    x11vnc -storepasswd

Эта команда позволит позаимствовать пароль для подключения к серверу из файла ~/.vnc/passwd (тут лежит пароль, который был задан при первом запуске vncserver). Далее непосредственно запустим x11vnc:

    x11vnc -usepw -display :0

Опция -usepw задействует использования пароля при подключении к серверу, -display :0 - запускает сервер на нулевом дисплее (так, где открыта текущая X-сессия).
Теперь мы с удаленной машины можем подключиться к текущей X-сессии, выполнив 




krdc с паролем для cisco




[https://onyma-crm.starttelecom.ru/onyma](https://onyma-crm.starttelecom.ru/onyma)
i.dzuin
EnTF8t3o

[https://tt.starttelecom.ru/](https://tt.starttelecom.ru/)
i.dzuin
0177eddec63

x11vnc

    -q - уменьшает вывод отладочной информации в stderr
    -forever - данная опция не завершает работу x11vnc-сервера, когда первый клиент отключается, а ждет следующих подключений



 Удаленный доступ ко графическому интерфейсу через VNC c возможностью управления

На удаленном компьютере должен быть установлен пакет x11vnc. В OpenSuSE 11.4 его можно найти в Yast. В SLE 11 пакет можно загрузить с [http://software.opensuse.org](http://software.opensuse.org) и установить командой:

rpm -Uvh <имя пакета>.rpm

Далее на удаленном компьютере программа должна быть запущена от пользователя, которому планируется оказать техническую поддержку. Сначала следует задать пароль, который затем будет использоваться для удаленного подключения. Используем файл паролей vnc ~/.vnc/passwd:

x11vnc -storepasswd

Автоматическй запуск общего рабочего стола можно сделать прописав в файле /home/<имя пользователя>/.xinitrc команду:

x11vnc -rfbauth /home/<имя пользователя>/.vnc/passwd -ncache -display :0 -q -forever &

Для подключения требуется vnc-клиент, например krdc, со следующими параметрами:

<адрес>:0




[http://pipel.org/blog-udalennyj-rabochij-stol-vnc-x11vnc-nastrojka](http://pipel.org/blog-udalennyj-rabochij-stol-vnc-x11vnc-nastrojka)
[http://snakenn.ru/page/ustanovka-i-nastrojka-x11vnc](http://snakenn.ru/page/ustanovka-i-nastrojka-x11vnc)