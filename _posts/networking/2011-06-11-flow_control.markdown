---
layout: post
title:  "flow_control"
date:   2011-06-11 00:46:53 +0400
categories: Networking
tags: Networking
---

# flow_control



Функция Flow Control необходима только в том случае если какое-либо устройство на одном линке не может принимать с той скоростью с которой другое передаёт. 
Поскольку на линке всего два устройста и оба гигабитные (порт коммутатора и сетевая карта), то эта функция неактуальна совсем. Кстати говоря на сетевой карте он у Вас был включён или выключен? 
Эта функция должна быть либо включена, либо выключена на обоих сторонах линка. 


Flow Control

Управление потоком IEEE 802.3x обеспечивает функции управления трафиком для режима полного дуплекса. Управление потоком позволяет улучшить работу сетевого адаптера в режиме полного дуплекса с коммутатором. 
При работе в полном дуплексе (при этом требуется непосредственное подключение к коммутатору) и при угрозе переполнения буфера данных коммутатора, сетевой адаптер получит специальный кадр паузы. Последующий промежуток времени защищает буфер от переполнения и предотвращает потерю данных. 
Эта технология может улучшить общую производительность сети, предотвращает потерю данных и помогает достичь оптимальной производительности в сети. 

По умолчанию эта опция отключенна. Отсюда у меня возникает ряд вопросов.
1. Стоит ли её включать и что это мне даст?
2. Flow Control работает со всеми сетевыми картами или только с теми что поддерживают этот режим.
3. Работает ли Flow Control между свичами (управляемый-неуправляемый)?
4. Какие негативные возможны последствия от включения этой опции? Ведь не зря она отключенна по умолчанию.

По порядку:

1) По сути Flow Control нужен в том случае если устройства на одном линке имеют разную произвиодительноть по приёму передаче кадров. Посылка стопового сигнала помогает избежпть потерь кадров.

2) Flow Control должен быть включён или выключен на обоих концах линка, т.е. сетевая карта конечно тоже должна поддерживать эту функцию и причём если на свитче она включена на сетвой карте она тоже должна быть включена.

3) Между управляемым и неуправляемым тоже может работать.

4) Последствия могут быть только если есть несоотвествие выбора режима работы функции на обоих концах линка.

5) На некоторых сериях свитчей например DES-30XX для корректной работы функции Bandwidth Control функция Flow control должна быть включена.



[http://en.wikipedia.org/wiki/Ethernet_flow_control](http://en.wikipedia.org/wiki/Ethernet_flow_control)
[http://www.bog.pp.ru/hard/ethernet.html](http://www.bog.pp.ru/hard/ethernet.html)

механизм обратного давления
[http://www.fiberman.ru/articles/fast-gigabit-ethernet/ethernet/switch/](http://www.fiberman.ru/articles/fast-gigabit-ethernet/ethernet/switch/)