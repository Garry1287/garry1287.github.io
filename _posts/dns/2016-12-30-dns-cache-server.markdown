---
layout: post
title:  "Кэширующий dns"
date:   2016-12-30 12:31:37 +0300
categories: dns
tags: dns
---

# Конфигурация файла /etc/named.conf для простого кэширующего сервера имен.

[http://www.linux.org.ru/forum/admin/191082](http://www.linux.org.ru/forum/admin/191082)


Используйте эту конфигурацию для всех серверов в Вашей сети, которые не выступают как основной или подчиненный сервера имен. Установка простого кэширующего севера на локальной клиентской машине уменьшит загрузку первичного сервера. Многие пользователи, использующие dialup-соединения, могут использовать эту конфигурацию. Создайте файл named.conf (touch /etc/named.conf) и добавьте в него следующие строки:

```
options
{
  directory "/var/named";
  forwarders { 208.164.186.1; 208.164.186.2; };
  forward only;
};
//
// a caching only nameserver config
zone "." in
{
  type hint;
  file "db.cache";
};
zone "0.0.127.in-addr.arpa" in
{
  type master;
  file "db.127.0.0";
};
```

В строке forwarder 208.164.186.1 и 208.164.186.2 это IP-адреса Ваших основного (Master) и подчиненного (Slave) DNS-серверов. Это могут быть также адреса DNS-серверов Вашего провайдера или вообще любые другие сервера имен.

Для улучшения безопасности Вашего DNS-сервера Вы можете запретить ему контактировать со сторонними серверами, если свои серверы не работают или не отвечают. С опцией forward only, установленной в файле named.conf, сервер имен не будет контактировать с другими серверами для поиска информации, если серверы, на которые перенаправляются запросы, не отвечают.
